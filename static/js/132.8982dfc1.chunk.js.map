{"version":3,"file":"static/js/132.8982dfc1.chunk.js","mappings":"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","sources":["hoc/withAuthRedirect.tsx","webpack://chathub/./src/pages/Users/Users.module.scss?83bb","store/users/selectors.ts","webpack://chathub/./src/pages/Users/UserItem/UserItem.module.scss?6f31","pages/Users/UsersSkeleton/UsersSkeleton.tsx","pages/Users/UserItem/UserItem.tsx","pages/Users/UsersTheme.ts","pages/Users/Users.tsx"],"sourcesContent":["import { Navigate } from 'react-router-dom'\r\nimport { useAppSelector } from '../utils/reduxUtils/reduxUtils'\r\nimport { selectIsAuth } from '../store/auth/selectors'\r\n\r\nexport function withAuthRedirect<T extends {}>(\r\n  WrappedComponent: React.ComponentType<T>\r\n) {\r\n  return (props: T) => {\r\n    const isAuth = useAppSelector(selectIsAuth)\r\n\r\n    return isAuth ? <WrappedComponent {...props} /> : <Navigate to=\"/login\" />\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"pagination\":\"Users_pagination__v406K\"};","import { AppRootState } from '../store'\r\n\r\nexport const selectUsersState = (state: AppRootState) => state.users\r\nexport const selectIsFollowingInProgress = (state: AppRootState) =>\r\n  state.users.isFollowingInProgress\r\n","// extracted by mini-css-extract-plugin\nexport default {\"userPhoto\":\"UserItem_userPhoto__bVXRD\",\"user\":\"UserItem_user__81k2c\",\"content\":\"UserItem_content__SJZZi\"};","import { Flex, List, Skeleton } from 'antd'\r\nimport s from '../UserItem/UserItem.module.scss'\r\n\r\ntype UsersSkeletonProps = {\r\n  pageSize: number\r\n}\r\n\r\nexport const UsersSkeleton = ({ pageSize }: UsersSkeletonProps) => {\r\n  return (\r\n    <List\r\n      itemLayout=\"horizontal\"\r\n      dataSource={Array(pageSize).fill({})}\r\n      renderItem={() => (\r\n        <List.Item className={s.user}>\r\n          <Flex align=\"start\" justify=\"space-between\">\r\n            <Flex gap={10}>\r\n              <Skeleton.Avatar active size={70} shape=\"circle\" />\r\n              <Skeleton.Input active />\r\n            </Flex>\r\n            <Skeleton.Button size=\"large\" active />\r\n          </Flex>\r\n        </List.Item>\r\n      )}\r\n    />\r\n  )\r\n}\r\n","import { Avatar, Button, Flex, List, Typography } from 'antd'\r\nimport { Link } from 'react-router-dom'\r\nimport {\r\n  useAppDispatch,\r\n  useAppSelector\r\n} from '../../../utils/reduxUtils/reduxUtils'\r\nimport { selectIsFollowingInProgress } from '../../../store/users/selectors'\r\n\r\nimport { follow, unfollow } from '../../../store/users/asyncActions'\r\nimport { User } from '../../../api/types'\r\nimport userPhoto from '../../../assets/images/userDefaultPhoto.png'\r\nimport s from './UserItem.module.scss'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\ntype UserItemProps = {\r\n  item: User\r\n}\r\n\r\nexport const UserItem = ({ item }: UserItemProps) => {\r\n  // get data from the state\r\n  const isFollowingInProgress = useAppSelector(selectIsFollowingInProgress)\r\n\r\n  // dispatch\r\n  const dispatch = useAppDispatch()\r\n\r\n  // localization\r\n  const { t } = useTranslation()\r\n\r\n  // callbacks\r\n  const followOnClick = (userId: number) => {\r\n    dispatch(follow(userId))\r\n  }\r\n  const unfollowOnClick = (userId: number) => {\r\n    dispatch(unfollow(userId))\r\n  }\r\n\r\n  // variables\r\n  const isDisabled = isFollowingInProgress.some(id => id === item.id)\r\n\r\n  return (\r\n    <List.Item className={s.user}>\r\n      <Flex align=\"start\" justify=\"space-between\" wrap className={s.content}>\r\n        {/* user card */}\r\n        <Link to={'/profile/' + item.id.toString()}>\r\n          <Flex gap={10}>\r\n            <Avatar\r\n              size={70}\r\n              className={s.userPhoto}\r\n              icon={<img src={item.photos.small || userPhoto} alt=\"avatar\" />}\r\n            />\r\n\r\n            <Flex vertical>\r\n              <Typography.Title level={5}>{item.name}</Typography.Title>\r\n              <Typography.Paragraph>{item.status}</Typography.Paragraph>\r\n            </Flex>\r\n          </Flex>\r\n        </Link>\r\n\r\n        {/* button */}\r\n        {item.followed ? (\r\n          <Button\r\n            onClick={() => unfollowOnClick(item.id)}\r\n            disabled={isDisabled}\r\n          >\r\n            {t('Users_unfollow')}\r\n          </Button>\r\n        ) : (\r\n          <Button onClick={() => followOnClick(item.id)} disabled={isDisabled}>\r\n            {t('Users_follow')}\r\n          </Button>\r\n        )}\r\n      </Flex>\r\n    </List.Item>\r\n  )\r\n}\r\n","import { ThemeConfig } from 'antd'\r\nimport { Colors } from '../../styles/Colors'\r\n\r\nexport const UsersTheme: ThemeConfig = {\r\n  token: {\r\n    colorPrimary: Colors.white,\r\n    colorText: Colors.primary,\r\n    colorBgContainer: Colors.transparent,\r\n    colorBorder: Colors.primary,\r\n    colorSplit: Colors.white\r\n  }\r\n}\r\n","import s from './Users.module.scss'\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect'\r\nimport { ConfigProvider, List, Pagination } from 'antd'\r\nimport {\r\n  useAppDispatch,\r\n  useAppSelector\r\n} from '../../utils/reduxUtils/reduxUtils'\r\nimport { useEffect } from 'react'\r\nimport { getUsers } from '../../store/users/asyncActions'\r\nimport { changePageSize } from '../../store/users/reducer'\r\nimport { selectUsersState } from '../../store/users/selectors'\r\nimport { UsersSkeleton } from './UsersSkeleton/UsersSkeleton'\r\nimport { UserItem } from './UserItem/UserItem'\r\nimport { UsersTheme } from './UsersTheme'\r\n\r\nconst Users = withAuthRedirect(() => {\r\n  // get data from the state\r\n  const { pageSize, totalUsersCount, currentPage, isFetching, users } =\r\n    useAppSelector(selectUsersState)\r\n\r\n  // dispatch\r\n  const dispatch = useAppDispatch()\r\n\r\n  // get users on page size change\r\n  useEffect(() => {\r\n    dispatch(getUsers({ pageSize, currentPage }))\r\n  }, [pageSize])\r\n\r\n  // callbacks\r\n  const onPageChange = (currentPage: number) => {\r\n    dispatch(getUsers({ pageSize, currentPage }))\r\n  }\r\n  const onShowSizeChange = (currentPage: number, pageSize: number) => {\r\n    dispatch(changePageSize(pageSize))\r\n  }\r\n\r\n  return (\r\n    <ConfigProvider theme={UsersTheme}>\r\n      <Pagination\r\n        onChange={onPageChange}\r\n        current={currentPage}\r\n        total={totalUsersCount}\r\n        pageSize={pageSize}\r\n        showQuickJumper\r\n        className={s.pagination}\r\n        size=\"small\"\r\n        pageSizeOptions={[4, 6, 8, 10]}\r\n        onShowSizeChange={onShowSizeChange}\r\n      />\r\n      {isFetching ? (\r\n        <UsersSkeleton pageSize={pageSize} />\r\n      ) : (\r\n        <List\r\n          itemLayout=\"horizontal\"\r\n          dataSource={users}\r\n          renderItem={item => <UserItem item={item} />}\r\n        />\r\n      )}\r\n    </ConfigProvider>\r\n  )\r\n})\r\n\r\nexport default Users\r\n"],"names":["withAuthRedirect","WrappedComponent","props","useAppSelector","selectIsAuth","_jsx","Navigate","to","selectUsersState","state","users","selectIsFollowingInProgress","isFollowingInProgress","UsersSkeleton","_ref","pageSize","List","itemLayout","dataSource","Array","fill","renderItem","Item","className","s","children","_jsxs","Flex","align","justify","gap","Skeleton","Avatar","active","size","shape","Input","Button","UserItem","item","dispatch","useAppDispatch","t","useTranslation","isDisabled","some","id","wrap","Link","toString","icon","src","photos","small","userPhoto","alt","vertical","Typography","Title","level","name","Paragraph","status","followed","onClick","unfollowOnClick","userId","unfollow","disabled","followOnClick","follow","UsersTheme","token","colorPrimary","Colors","white","colorText","primary","colorBgContainer","transparent","colorBorder","colorSplit","totalUsersCount","currentPage","isFetching","useEffect","getUsers","ConfigProvider","theme","Pagination","onChange","current","total","showQuickJumper","pageSizeOptions","onShowSizeChange","changePageSize"],"sourceRoot":""}
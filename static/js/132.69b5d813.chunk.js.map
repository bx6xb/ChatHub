{"version":3,"file":"static/js/132.69b5d813.chunk.js","mappings":"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","sources":["hoc/withAuthRedirect.tsx","webpack://chathub/./src/pages/Users/Users.module.scss?83bb","store/users/selectors.ts","webpack://chathub/./src/pages/Users/UserItem/UserItem.module.scss?6f31","pages/Users/UsersSkeleton/UsersSkeleton.tsx","pages/Users/UserItem/UserItem.tsx","pages/Users/UsersTheme.ts","pages/Users/Users.tsx"],"sourcesContent":["import { Navigate } from 'react-router-dom'\nimport { useAppSelector } from '../utils/reduxUtils/reduxUtils'\nimport { selectIsAuth } from '../store/auth/selectors'\n\nexport function withAuthRedirect<T extends {}>(\n  WrappedComponent: React.ComponentType<T>\n) {\n  return (props: T) => {\n    const isAuth = useAppSelector(selectIsAuth)\n\n    return isAuth ? <WrappedComponent {...props} /> : <Navigate to=\"/login\" />\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"pagination\":\"Users_pagination__S5MWy\"};","import { AppRootState } from '../store'\n\nexport const selectUsersState = (state: AppRootState) => state.users\nexport const selectIsFollowingInProgress = (state: AppRootState) =>\n  state.users.isFollowingInProgress\n","// extracted by mini-css-extract-plugin\nexport default {\"userPhoto\":\"UserItem_userPhoto__Arbcp\",\"user\":\"UserItem_user__4PPam\",\"content\":\"UserItem_content__W7zB5\"};","import { Flex, List, Skeleton } from 'antd'\nimport s from '../UserItem/UserItem.module.scss'\n\ntype UsersSkeletonProps = {\n  pageSize: number\n}\n\nexport const UsersSkeleton = ({ pageSize }: UsersSkeletonProps) => {\n  return (\n    <List\n      itemLayout=\"horizontal\"\n      dataSource={Array(pageSize).fill({})}\n      renderItem={() => (\n        <List.Item className={s.user}>\n          <Flex align=\"start\" justify=\"space-between\">\n            <Flex gap={10}>\n              <Skeleton.Avatar active size={70} shape=\"circle\" />\n              <Skeleton.Input active />\n            </Flex>\n            <Skeleton.Button size=\"large\" active />\n          </Flex>\n        </List.Item>\n      )}\n    />\n  )\n}\n","import { Avatar, Button, Flex, List, Typography } from 'antd'\nimport { Link } from 'react-router-dom'\nimport {\n  useAppDispatch,\n  useAppSelector\n} from '../../../utils/reduxUtils/reduxUtils'\nimport { selectIsFollowingInProgress } from '../../../store/users/selectors'\n\nimport { follow, unfollow } from '../../../store/users/asyncActions'\nimport { User } from '../../../api/types'\nimport userPhoto from '../../../assets/images/userDefaultPhoto.png'\nimport s from './UserItem.module.scss'\nimport { useTranslation } from 'react-i18next'\n\ntype UserItemProps = {\n  item: User\n}\n\nexport const UserItem = ({ item }: UserItemProps) => {\n  // get data from the state\n  const isFollowingInProgress = useAppSelector(selectIsFollowingInProgress)\n\n  // dispatch\n  const dispatch = useAppDispatch()\n\n  // localization\n  const { t } = useTranslation()\n\n  // callbacks\n  const followOnClick = (userId: number) => {\n    dispatch(follow(userId))\n  }\n  const unfollowOnClick = (userId: number) => {\n    dispatch(unfollow(userId))\n  }\n\n  // variables\n  const isDisabled = isFollowingInProgress.some(id => id === item.id)\n\n  return (\n    <List.Item className={s.user}>\n      <Flex align=\"start\" justify=\"space-between\" wrap className={s.content}>\n        {/* user card */}\n        <Link to={'/profile/' + item.id.toString()}>\n          <Flex gap={10}>\n            <Avatar\n              size={70}\n              className={s.userPhoto}\n              icon={<img src={item.photos.small || userPhoto} alt=\"avatar\" />}\n            />\n\n            <Flex vertical>\n              <Typography.Title level={5}>{item.name}</Typography.Title>\n              <Typography.Paragraph>{item.status}</Typography.Paragraph>\n            </Flex>\n          </Flex>\n        </Link>\n\n        {/* button */}\n        {item.followed ? (\n          <Button\n            onClick={() => unfollowOnClick(item.id)}\n            disabled={isDisabled}\n          >\n            {t('Users_unfollow')}\n          </Button>\n        ) : (\n          <Button onClick={() => followOnClick(item.id)} disabled={isDisabled}>\n            {t('Users_follow')}\n          </Button>\n        )}\n      </Flex>\n    </List.Item>\n  )\n}\n","import { ThemeConfig } from 'antd'\nimport { Colors } from '../../styles/Colors'\n\nexport const UsersTheme: ThemeConfig = {\n  token: {\n    colorPrimary: Colors.white,\n    colorText: Colors.primary,\n    colorBgContainer: Colors.transparent,\n    colorBorder: Colors.primary,\n    colorSplit: Colors.white\n  }\n}\n","import s from './Users.module.scss'\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect'\nimport { ConfigProvider, List, Pagination } from 'antd'\nimport {\n  useAppDispatch,\n  useAppSelector\n} from '../../utils/reduxUtils/reduxUtils'\nimport { useEffect } from 'react'\nimport { getUsers } from '../../store/users/asyncActions'\nimport { changePageSize } from '../../store/users/reducer'\nimport { selectUsersState } from '../../store/users/selectors'\nimport { UsersSkeleton } from './UsersSkeleton/UsersSkeleton'\nimport { UserItem } from './UserItem/UserItem'\nimport { UsersTheme } from './UsersTheme'\n\nconst Users = withAuthRedirect(() => {\n  // get data from the state\n  const { pageSize, totalUsersCount, currentPage, isFetching, users } =\n    useAppSelector(selectUsersState)\n\n  // dispatch\n  const dispatch = useAppDispatch()\n\n  // get users on page size change\n  useEffect(() => {\n    dispatch(getUsers({ pageSize, currentPage }))\n  }, [pageSize])\n\n  // callbacks\n  const onPageChange = (currentPage: number) => {\n    dispatch(getUsers({ pageSize, currentPage }))\n  }\n  const onShowSizeChange = (currentPage: number, pageSize: number) => {\n    dispatch(changePageSize(pageSize))\n  }\n\n  return (\n    <ConfigProvider theme={UsersTheme}>\n      <Pagination\n        onChange={onPageChange}\n        current={currentPage}\n        total={totalUsersCount}\n        pageSize={pageSize}\n        showQuickJumper\n        className={s.pagination}\n        size=\"small\"\n        pageSizeOptions={[4, 6, 8, 10]}\n        onShowSizeChange={onShowSizeChange}\n      />\n      {isFetching ? (\n        <UsersSkeleton pageSize={pageSize} />\n      ) : (\n        <List\n          itemLayout=\"horizontal\"\n          dataSource={users}\n          renderItem={item => <UserItem item={item} />}\n        />\n      )}\n    </ConfigProvider>\n  )\n})\n\nexport default Users\n"],"names":["withAuthRedirect","WrappedComponent","props","useAppSelector","selectIsAuth","_jsx","Navigate","to","selectUsersState","state","users","selectIsFollowingInProgress","isFollowingInProgress","UsersSkeleton","_ref","pageSize","List","itemLayout","dataSource","Array","fill","renderItem","Item","className","s","children","_jsxs","Flex","align","justify","gap","Skeleton","Avatar","active","size","shape","Input","Button","UserItem","item","dispatch","useAppDispatch","t","useTranslation","isDisabled","some","id","wrap","Link","toString","icon","src","photos","small","userPhoto","alt","vertical","Typography","Title","level","name","Paragraph","status","followed","onClick","unfollowOnClick","userId","unfollow","disabled","followOnClick","follow","UsersTheme","token","colorPrimary","Colors","white","colorText","primary","colorBgContainer","transparent","colorBorder","colorSplit","totalUsersCount","currentPage","isFetching","useEffect","getUsers","ConfigProvider","theme","Pagination","onChange","current","total","showQuickJumper","pageSizeOptions","onShowSizeChange","changePageSize"],"sourceRoot":""}
"use strict";(self.webpackChunkchathub=self.webpackChunkchathub||[]).push([[147],{7333:(e,l,o)=>{o.d(l,{x:()=>m});var r=o(5220),t=o(4933),a=o(2714),s=o(6264),i=o(9037);const n="ControlledInput_label__bVRA+",u="ControlledInput_error__juvnS";var c=o(6915),d=o(6715),f=o(1642);const m=e=>{const{as:l,label:o,labelPosition:m,name:p,control:b,rules:h,defaultValue:_,disabled:j,shouldUnregister:x,uploadButtonText:g,errorMessage:v,...F}=e,A=(0,d.A)(),{field:{value:P,onChange:k}}=(0,i.as)({name:p,control:b,rules:h,defaultValue:_,disabled:j,shouldUnregister:x}),N={["checkbox"===l?"checked":"value"]:P,onChange:k,...F};return"upload"===l&&delete N.value,(0,f.jsxs)(f.Fragment,{children:[o&&"right"!==m&&(0,f.jsx)("label",{htmlFor:A,className:n,children:o}),"checkbox"===l?(0,f.jsx)(r.A,{...N,id:A}):"upload"===l?(0,f.jsx)(t.A,{...N,id:A,children:(0,f.jsx)(a.Ay,{icon:(0,f.jsx)(c.A,{}),children:g})}):(0,f.jsx)(s.A,{...N,id:A}),v&&(0,f.jsx)("div",{className:u,children:v}),o&&"right"===m&&(0,f.jsx)("label",{htmlFor:A,className:n,children:o})]})}},7358:(e,l,o)=>{o.d(l,{H:()=>i});var r=o(8132),t=o(4598),a=o(3998),s=o(1642);function i(e){return l=>(0,t.G)(a.BN)?(0,s.jsx)(e,{...l}):(0,s.jsx)(r.C5,{to:"/login"})}},5147:(e,l,o)=>{o.r(l),o.d(l,{default:()=>P});var r=o(9037),t=o(4598),a=o(7358),s=o(5021);const i="ProfileForm_form__FRgN4";var n=o(7893),u=o(6533),c=o(2714),d=o(9906),f=o(8533),m=o(5948),p=o(9400),b=o(4157),h=o(6715),_=o(6960);var j=o(3359),x=o(7333);const g="ProfileFormDataInputs_inputWrapper__DAg33",v="ProfileFormDataInputs_input__E37fl";var F=o(1642);const A=e=>{var l,o;let{control:r,userProfile:t,profileStatus:a}=e;const{t:s}=(0,j.Bd)(),i=[{name:"photo",as:"upload",label:s("ProfileForm_set_profile_photo"),customRequest:()=>{},maxCount:1,showUploadList:!1,className:"",uploadButtonText:s("ProfileForm_click_to_upload")},{name:"fullName",label:s("ProfileForm_full_name"),defaultValue:t.fullName},{name:"profileStatus",label:s("ProfileForm_status"),defaultValue:a},{name:"aboutMe",label:s("ProfileInfo_about_me"),defaultValue:null===(l=t.aboutMe)||void 0===l?void 0:l.toString(),rules:{required:!0}},{name:"lookingForAJob",as:"checkbox",label:s("ProfileForm_looking_for_a_job"),defaultChecked:t.lookingForAJob,type:"checkbox"},{name:"lookingForAJobDescription",label:s("ProfileForm_job_description"),defaultValue:null===(o=t.lookingForAJobDescription)||void 0===o?void 0:o.toString(),rules:{required:!0}},...Object.entries(t.contacts).map((e=>{let[l,o]=e;return{name:"contacts.".concat(l),label:l[0].toUpperCase()+l.slice(1),defaultValue:o&&o.toString(),type:"url"}}))].map(((e,l)=>{const o={className:v,control:r,...e};return(0,F.jsx)(n.A,{justify:"space-between",align:"center",className:g,children:(0,F.jsx)(x.x,{...o})},l)}));return(0,F.jsx)(F.Fragment,{children:i})},P=(0,a.H)((()=>{const e=(0,t.G)(f.tB),l=(0,t.G)(f.A9),o=(0,t.j)(),{t:a}=(0,j.Bd)(),[x,g]=(0,d.useState)(),{handleSubmit:v,control:P}=(0,r.mN)(),k=(0,r.FH)({control:P,name:"photo.file.originFileObj"});if((0,d.useEffect)((()=>{if(k){const e=URL.createObjectURL(k);g(e)}}),[k]),!e)return(0,F.jsx)(s.R,{});return(0,F.jsxs)("form",{onSubmit:v((async e=>{(async(e,l)=>{const{photo:o,profileStatus:r,...t}=l,a=(await e((0,m.cp)(t))).payload,s=(await e((0,m.Wd)(r))).payload;let i;o&&(i=(await e((0,m.CE)(o.file.originFileObj))).payload),i&&e((0,p.Lm)(i.large)),[a,s,i].includes(null)||e((0,b.K9)({id:(0,h.A)(),message:(0,_.t)("ProfileForm_data_updated"),isError:!1}))})(o,e)})),className:i,children:[(0,F.jsxs)(n.A,{gap:6,vertical:!0,children:[x&&(0,F.jsx)(n.A,{justify:"start",children:(0,F.jsx)(u.A,{size:64,icon:(0,F.jsx)("img",{src:x})})}),(0,F.jsx)(A,{control:P,userProfile:e,profileStatus:l})]}),(0,F.jsx)(c.Ay,{htmlType:"submit",className:"submitFormButton",children:a("ProfileForm_save")})]})}))},8533:(e,l,o)=>{o.d(l,{$c:()=>s,A9:()=>r,B$:()=>n,_S:()=>a,pL:()=>i,tB:()=>t});const r=e=>e.profile.profileStatus,t=e=>e.profile.userProfile,a=e=>e.profile.posts,s=e=>{var l;return null===(l=e.profile.userProfile)||void 0===l?void 0:l.photos.large},i=e=>{var l;return null===(l=e.profile.userProfile)||void 0===l?void 0:l.fullName},n=e=>{var l;return null===(l=e.profile.userProfile)||void 0===l?void 0:l.userId}}}]);
//# sourceMappingURL=147.4e7043e9.chunk.js.map